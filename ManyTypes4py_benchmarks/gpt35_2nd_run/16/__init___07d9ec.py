def create_influx_url(conf: dict) -> dict:
    ...

def validate_version_specific_config(conf: dict) -> dict:
    ...

def _generate_event_to_json(conf: dict) -> Callable:
    ...

def get_influx_connection(conf: dict, test_write: bool = False, test_read: bool = False) -> InfluxClient:
    ...

def _retry_setup(hass: HomeAssistant, config: ConfigType) -> None:
    ...

def setup(hass: HomeAssistant, config: ConfigType) -> bool:
    ...

class InfluxThread(threading.Thread):
    def __init__(self, hass: HomeAssistant, influx: InfluxClient, event_to_json: Callable, max_tries: int) -> None:
        ...

    def _event_listener(self, event: Event) -> None:
        ...

    @callback
    def batch_timeout() -> int:
        ...

    def get_events_json(self) -> Tuple[int, List[dict]]:
        ...

    def write_to_influxdb(self, json: List[dict]) -> None:
        ...

    def run(self) -> None:
        ...

    def block_till_done(self) -> None:
        ...
